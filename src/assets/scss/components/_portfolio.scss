.portfolio {
    @include flex-grid-row($width: 100%, $behavior: collapse);
    $item-selector: '.portfolio__item';

    // @mixin portfolio-layout($n) {
    //     @include flex-grid-layout($n, $item-selector);

    //     &__item {

    //         border: $global-border-style;
    //         border-top: 0;

    //         // Give the first row a top border
    //         @for $this-n from 0 through $n {
    //             &:nth-child(#{$this-n}) {
    //                 border-top: $global-border-style;
    //             }

    //         }

    //         // Remove double inside borders
    //         @if $n > 1 {
    //             @for $this-n from 0 through ($n - 2) {
    //                 &:nth-child(#{$n}n + #{$this-n + 1}):not(:last-child) {
    //                     border-right: 0;
    //                 }
    //             }
    //         }

    //     }
    // }

    @include breakpoint(small only) {
        @include flex-grid-layout(1, $item-selector);
    }
    @include breakpoint(medium only) {
        @include flex-grid-layout(2, $item-selector);
    }
    @include breakpoint(large) {
        @include flex-grid-layout(4, $item-selector);
    }



    &__item {
        $pad: map-get($grid-column-gutter, small) / 2;
        @include breakpoint(medium) {
            $pad: map-get($grid-column-gutter, medium) / 2;
        }

        &__preview {
            max-width: 100%;
            @include intrinsic-ratio(1);
            // margin-bottom: $pad;
        }

        &__image {
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        &__heading {
            @extend h4;
        }

        p:last-child {
            margin-bottom: 0;
        }
    }
}
